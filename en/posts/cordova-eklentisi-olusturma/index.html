<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Creating a Cordova Plugin - Mazlum √ñzhan</title><meta name=description content="
In this article, I will try to explain how to create a simple Cordova plugin, what it is, and when we need it.
What is a Cordova Plugin?
Before we start, let&rsquo;s understand what Cordova plugins are. A Cordova plugin acts as a bridge between the web and the native system. It fulfills this role with a combination of JavaScript and native code.
When Do We Need It?
Cordova applications essentially run in a web browser. However, the web doesn&rsquo;t always provide the features we need from the native system. That&rsquo;s why we need to write native code and communicate with the system. Cordova plugins enable this."><meta name=author content><link rel="preload stylesheet" as=style href=https://mozhn.dev/app.min.css><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-TTNS7R4")</script><script defer data-website-id=dfid_4BEFTm3YIMEwTVJHJxF27 data-domain=mozhn.dev src=https://datafa.st/js/script.js></script><link rel="preload stylesheet" as=style href=https://mozhn.dev/an-old-hope.min.css><script defer src=https://mozhn.dev/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=preload as=image href=https://mozhn.dev/theme.png><link rel=preload as=image href=https://mozhn.dev/github.svg><link rel=icon href=https://mozhn.dev/favicon.ico><link rel=apple-touch-icon href=https://mozhn.dev/apple-touch-icon.png><meta name=generator content="Hugo 0.152.2"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QLF1P68R96"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QLF1P68R96")}</script><meta property="og:url" content="https://mozhn.dev/en/posts/cordova-eklentisi-olusturma/"><meta property="og:site_name" content="Mazlum √ñzhan"><meta property="og:title" content="Creating a Cordova Plugin"><meta property="og:description" content="In this article, I will try to explain how to create a simple Cordova plugin, what it is, and when we need it.
What is a Cordova Plugin? Before we start, let‚Äôs understand what Cordova plugins are. A Cordova plugin acts as a bridge between the web and the native system. It fulfills this role with a combination of JavaScript and native code.
When Do We Need It? Cordova applications essentially run in a web browser. However, the web doesn‚Äôt always provide the features we need from the native system. That‚Äôs why we need to write native code and communicate with the system. Cordova plugins enable this."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-30T21:26:18+03:00"><meta property="article:modified_time" content="2021-08-30T21:26:18+03:00"><meta itemprop=name content="Creating a Cordova Plugin"><meta itemprop=description content="In this article, I will try to explain how to create a simple Cordova plugin, what it is, and when we need it.
What is a Cordova Plugin? Before we start, let‚Äôs understand what Cordova plugins are. A Cordova plugin acts as a bridge between the web and the native system. It fulfills this role with a combination of JavaScript and native code.
When Do We Need It? Cordova applications essentially run in a web browser. However, the web doesn‚Äôt always provide the features we need from the native system. That‚Äôs why we need to write native code and communicate with the system. Cordova plugins enable this."><meta itemprop=datePublished content="2021-08-30T21:26:18+03:00"><meta itemprop=dateModified content="2021-08-30T21:26:18+03:00"><meta itemprop=wordCount content="786"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating a Cordova Plugin"><meta name=twitter:description content="In this article, I will try to explain how to create a simple Cordova plugin, what it is, and when we need it.
What is a Cordova Plugin? Before we start, let‚Äôs understand what Cordova plugins are. A Cordova plugin acts as a bridge between the web and the native system. It fulfills this role with a combination of JavaScript and native code.
When Do We Need It? Cordova applications essentially run in a web browser. However, the web doesn‚Äôt always provide the features we need from the native system. That‚Äôs why we need to write native code and communicate with the system. Cordova plugins enable this."><script>(function(){if(!sessionStorage.getItem("langPreference")){const e=navigator.language||navigator.userLanguage,t="en",n=window.location.pathname;if(e.startsWith("en")&&t==="tr"){const e="/en"+n;sessionStorage.setItem("langPreference","auto-redirected"),window.location.href=e}else if(e.startsWith("tr")&&t==="en"){const e=n.replace("/en","");sessionStorage.setItem("langPreference","auto-redirected"),window.location.href=e||"/"}}})()</script></head><body class=not-ready data-menu=true><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TTNS7R4" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><header class=header><p class=logo><a class=site-name href=https://mozhn.dev/>Mazlum √ñzhan</a><a class=btn-dark></a></p><script>let bodyClx=document.body.classList,btnDark=document.querySelector(".btn-dark"),sysDark=window.matchMedia("(prefers-color-scheme: dark)"),darkVal=localStorage.getItem("dark"),setDark=e=>{bodyClx[e?"add":"remove"]("dark"),localStorage.setItem("dark",e?"yes":"no")};setDark(darkVal?darkVal==="yes":sysDark.matches),requestAnimationFrame(()=>bodyClx.remove("not-ready")),btnDark.addEventListener("click",()=>setDark(!bodyClx.contains("dark"))),sysDark.addEventListener("change",e=>setDark(e.matches))</script><nav class=menu><a href=/en/>Blog</a>
<a href=/en/about/>About</a></nav><nav class=social><a class=github style=--url:url(./github.svg) href=https://github.com/mozhn target=_blank></a><a class=language-switcher href=/posts/cordova-eklentisi-olusturma/ title="Switch to T√ºrk√ße" style=font-size:1.5em;text-decoration:none;display:inline-block>üáπüá∑</a></nav></header><main class=main><article class=post-single><header class=post-title><aside><time>August 30, 2021</time></aside><h1>Creating a Cordova Plugin</h1></header><section class=post-content><p><img src=/img/cordova-plugin.png alt="Cordova plugin"></p><p>In this article, I will try to explain how to create a simple Cordova plugin, what it is, and when we need it.</p><h3 id=what-is-a-cordova-plugin>What is a Cordova Plugin?</h3><p>Before we start, let&rsquo;s understand what Cordova plugins are. A Cordova plugin acts as a bridge between the web and the native system. It fulfills this role with a combination of JavaScript and native code.</p><h3 id=when-do-we-need-it>When Do We Need It?</h3><p>Cordova applications essentially run in a web browser. However, the web doesn&rsquo;t always provide the features we need from the native system. That&rsquo;s why we need to write native code and communicate with the system. Cordova plugins enable this.</p><h3 id=how-to-create-one>How to Create One?</h3><p>To create a plugin, we first need Cordova CLI and Plugman. You can install them from the terminal with the following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>npm install -g plugman cordova</span></span></code></pre></div><p>Then we can create the plugin through Plugman. We need to specify 3 parameters in total.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>plugman create --name PluginName --plugin_id &#34;me.mazlum.pluginname&#34; --plugin_version 0.0.1</span></span></code></pre></div><p>After running the command, it will create the plugin&rsquo;s basic folders and files in your current directory. Then you can enter the created folder and add a platform to the plugin with the following command. For example, let&rsquo;s go with Android.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>plugman platform add --platform_name android</span></span></code></pre></div><p>After running the above command, a sample Java file will be created. All the code you write for the Android platform will be managed through this file. At this point, you actually have a very simple plugin. If you want to publish this plugin with NPM, you can create the package.json file with the following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>plugman createpackagejson .</span></span></code></pre></div><blockquote><p>From this point on, examples will be Android-based.</p></blockquote><h3 id=javascript-api>JavaScript API</h3><p>As I mentioned at the beginning of the article, we talked about some JavaScript and some native code. Let&rsquo;s first take a look at the JavaScript side. You can access the following file at <strong>www/PluginName.js</strong>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>exec</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;cordova/exec&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>exports</span>.<span style=color:#a6e22e>coolMethod</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>arg0</span>, <span style=color:#a6e22e>success</span>, <span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>exec</span>(<span style=color:#a6e22e>success</span>, <span style=color:#a6e22e>error</span>, <span style=color:#e6db74>&#39;PluginName&#39;</span>, <span style=color:#e6db74>&#39;coolMethod&#39;</span>, [<span style=color:#a6e22e>arg0</span>]);
</span></span><span style=display:flex><span>};</span></span></code></pre></div><p>Through the functions created in this file, we will communicate with the native code. For example, you can call this function from the JavaScript side as follows.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>cordova</span>.<span style=color:#a6e22e>plugins</span>.<span style=color:#a6e22e>PluginName</span>.<span style=color:#a6e22e>coolMethod</span>(<span style=color:#e6db74>&#39;test&#39;</span>, (<span style=color:#a6e22e>success</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;response&#39;</span>, <span style=color:#a6e22e>success</span>);
</span></span><span style=display:flex><span>});</span></span></code></pre></div><p>Now let&rsquo;s look at its counterpart on the native side. You can access the following file at <strong>src/android/PluginName.java</strong>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> me.mazlum.pluginname;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.apache.cordova.CordovaPlugin;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.apache.cordova.CallbackContext;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.json.JSONArray;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.json.JSONException;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> org.json.JSONObject;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PluginName</span> <span style=color:#66d9ef>extends</span> CordovaPlugin {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>boolean</span> <span style=color:#a6e22e>execute</span>(String action, JSONArray args, CallbackContext callbackContext) <span style=color:#66d9ef>throws</span> JSONException {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (action.<span style=color:#a6e22e>equals</span>(<span style=color:#e6db74>&#34;coolMethod&#34;</span>)) {
</span></span><span style=display:flex><span>      String message <span style=color:#f92672>=</span> args.<span style=color:#a6e22e>getString</span>(0);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>coolMethod</span>(message, callbackContext);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>coolMethod</span>(String message, CallbackContext callbackContext) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (message <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> message.<span style=color:#a6e22e>length</span>() <span style=color:#f92672>&gt;</span> 0) {
</span></span><span style=display:flex><span>      callbackContext.<span style=color:#a6e22e>success</span>(message);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      callbackContext.<span style=color:#a6e22e>error</span>(<span style=color:#e6db74>&#34;Expected one non-empty string argument.&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>We capture and process the parameters sent from the JavaScript side through the <strong>execute</strong> method. In the example above, <strong>coolMethod</strong> is a good example.</p><h3 id=adding-dependencies-to-the-plugin>Adding Dependencies to the Plugin</h3><p>After creating the plugin, you will certainly need another package. So how will you add a package to your Cordova plugin? The process is simple. When you create the plugin with CLI, a file called <strong>plugin.xml</strong> is also created. We can add our packages to this file. For example, let&rsquo;s import the Agora Voice SDK.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;platform</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;android&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  ....
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;framework</span> <span style=color:#a6e22e>src=</span><span style=color:#e6db74>&#34;io.agora.rtc:voice-sdk:3.3.0&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/platform&gt;</span></span></span></code></pre></div><h3 id=adding-permissions-to-the-plugin>Adding Permissions to the Plugin</h3><p>For example, we&rsquo;ll need microphone permission when using this SDK. So let&rsquo;s make it automatically add this permission to our <strong>AndroidManifest.xml</strong> file when the plugin is installed with the code below. We need to edit our <strong>plugin.xml</strong> file again.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;platform</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;android&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  ....
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;config-file</span> <span style=color:#a6e22e>parent=</span><span style=color:#e6db74>&#34;/manifest&#34;</span> <span style=color:#a6e22e>target=</span><span style=color:#e6db74>&#34;AndroidManifest.xml&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;uses-permission</span> <span style=color:#a6e22e>android:name=</span><span style=color:#e6db74>&#34;android.permission.RECORD_AUDIO&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/config-file&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/platform&gt;</span></span></span></code></pre></div><h3 id=adding-variables-to-the-plugin>Adding Variables to the Plugin</h3><p>When installing a plugin, we may want a constant variable. These variables can be platform-specific or generally applicable. For example, when installing the <strong>cordova-plugin-purchase</strong> plugin, you need to provide a variable called <strong>BILLING_KEY</strong>. An example of plugin installation with parameters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>cordova plugin add cordova-plugin-purchase --variable BILLING_KEY=&#34;MIIB...AQAB&#34;</span></span></code></pre></div><p>So where do we define this variable? Yes, again in <strong>plugin.xml</strong>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;preference</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;MY_GLOBAL_VARIABLE&#34;</span> <span style=color:#a6e22e>default=</span><span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;platform</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;android&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  ....
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;preference</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;MY_VARIABLE&#34;</span> <span style=color:#a6e22e>default=</span><span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/platform&gt;</span></span></span></code></pre></div><h3 id=installing-the-plugin-in-a-project>Installing the Plugin in a Project</h3><p>We created our plugin, added our packages, and defined our variables. Now we&rsquo;re ready to use this plugin in a Cordova project. If you haven&rsquo;t published the plugin to NPM yet, you can add it to your Cordova project as follows. Go to the main directory of your Cordova project and add your plugin to your project with the following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>cordova plugin add --link ~/path/PluginName</span></span></code></pre></div><p>From this stage onward, you can make any modifications you want in the native code.</p><h3 id=conclusion>Conclusion</h3><p>With this article, we learned how to create a small Cordova plugin and do some minor customization. See you in my next article.</p></section></article></main><footer class=footer><p>&copy; 2025 <a href=https://mozhn.dev/>Mazlum √ñzhan</a></p><p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>HugoÔ∏èÔ∏è</a>Ô∏è</p><p><a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper 5.0</a></p></footer></body></html>